commands:
  - cmake . && make test drmemory
  - mkdir -p ${ARTIFACTS}
  - cp bin/fewer ${ARTIFACTS}
  - cp bin/fewer.so ${ARTIFACTS}

environments:
  - name: gnu-linux-amd64
    box: mcandre/fewer-buildbot-debian
  # - name: gnu-linux-i386
  #   box: mcandre/fewer-buildbot-debian-i386
  # - name: musl-linux-amd64
  #   box: mcandre/fewer-buildbot-alpine
  # - name: uclibc-linux-amd64
  #   box: mcandre/fewer-buildbot-busybox
  # - name: darwin-amd64
  #   box: mcandre/fewer-buildbot-macos
  # - name: freebsd-amd64
  #   box: mcandre/fewer-buildbot-freebsd
  # - name: dragonflybsd-amd64
  #   box: mcandre/fewer-buildbot-dragonflybsd
  # - name: solaris-i386
  #   box: mcandre/fewer-buildbot-dilos
  # - name: solaris-sparc
  #   box: mcandre/fewer-buildbot-dilos-sparc
  # - name: openbsd-amd64
  #   box: mcandre/fewer-buildbot-openbsd
  # - name: netbsd-amd64
  #   box: mcandre/fewer-buidlbot-netbsd
  # - name: minix-i386
  #   box: mcandre/fewer-buildbot-minix
  # - name: windows-comspec-amd64
  #   box: mcandre/fewer-buildbot-windows
  #   commands:
  #     - cmake . & nmake lint test drmemory
  #     - md ${ARTIFACTS_WINDOWS}
  #     - copy bin\fewer.exe ${ARTIFACTS_WINDOWS}
  #     - copy bin\fewer.dll ${ARTIFACTS_WINDOWS}
